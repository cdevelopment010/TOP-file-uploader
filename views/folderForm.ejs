<h1 class="fc-3 mb-5">Folder Form</h1>

<%- include("partials/errors") %>

<form method="post" action="<%= locals.action %> " class="d-flex flex-column folder-form">

    <div class="mb-4">
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" value="<%= locals.currentFolder ? currentFolder.name : '' %>" required>

    </div>



    <% if (locals.folders) { %> 
        <div class="mb-4">
            <label for="parentFolder">Parent folder</label>
            <select name="parentFolder" id="parentFolder">
                <option value="">--NONE--</option>
                <% folders.forEach(folder => { %> 
                    <option value="<%= folder.id %>" <%= locals.currentFolder?.parentId == folder.id ? 'selected' : '' %> ><%= folder.name %></option>
                <% }) %>
            </select>
        </div>
    <% } %>
    <div>
        <button type="submit" class="btn">
            <%= locals.action.search("create") > -1 ? 'Create folder' : 'Update folder' %>
        </button>
    </div>
</form>